PIPELINE(With help of Aggregate)ğŸ”¥ğŸ”¥ğŸ”¥
codeio> db.course.aggregate([{$match:{videos:{$gte:35}}}])                 //see that how to write the aggregate. $match work like that find()ğŸ¤©ğŸ¤©ğŸ¤©
[
Â  {
Â    _id: ObjectId('68d2cac1488f2d29f7cebea4'),
Â    name: 'DSA',
Â    videos: 35,
Â    duration: 28.5,
Â    completed: true
Â  },
Â  {
Â    _id: ObjectId('68d2cbdb488f2d29f7cebea7'),
Â    name: 'JAVA',
Â    videos: 50,
Â    duration: 10.5,
Â    completed: true
Â  },
Â  {
Â    _id: ObjectId('68d2cbdb488f2d29f7cebea8'),
Â    name: 'C++',
Â    videos: 36,
Â    duration: 10.51,
Â    completed: true
Â  },
Â  {
Â    _id: ObjectId('68d2d5e15ed1a5518ccebea4'),
Â    name: 'React',
Â    videos: 35,
Â    duration: 18.3,
Â    PublishedDate: ISODate('2025-09-23T00:00:00.000Z'),
Â    instructors: [ 'Bob', 'Goms' ],
Â    relatedCourses: { name: 'js', videos: 36, duration: 11 },
Â    completed: true
Â  },
Â  {
Â    _id: ObjectId('68d4182cc5e0eb2fcbcebea5'),
Â    name: 'c++',
Â    videos: 50,
Â    duration: 10.5,
Â    completed: true
Â  },
Â  {
Â    _id: ObjectId('68d5792c74d91a0aa6af9f6c'),
Â    name: 'Spring Boot',
Â    duration: 6.7,
Â    videos: 50
Â  }
]

codeio> db.course.aggregate([{$match:{videos:{$gte:35}}},{$sort:{videos:-1}},{$limit:2}])       //Aggregate also use chain functions ğŸ˜ğŸ˜ğŸ˜
[
Â  {
Â    _id: ObjectId('68d4182cc5e0eb2fcbcebea5'),
Â    name: 'c++',
Â    videos: 50,
Â    duration: 10.5,
Â    completed: true
Â  },
Â  {
Â    _id: ObjectId('68d2cbdb488f2d29f7cebea7'),
Â    name: 'JAVA',
Â    videos: 50,
Â    duration: 10.5,
Â    completed: true
Â  }
]
ğŸ‘‡ğŸ‘‡ğŸ‘‡(Recap)
codeio> db.course.aggregate([{$match:{videos:{$gte:35}}}])
codeio> db.course.aggregate([{$match:{videos:{$gte:35}}},{$sort:{videos:-1}},{$limit:2}])
ğŸ’•ğŸ’•ğŸ’•


codeio> db.coustomer.insertMany([{name:"Goms",amount:250},{name:"Goms",amount:400},{name:"Siva",amount:100},{name:"Siva",amount:10},{name:"Goms",amount:150}])           //For Demo supprose ğŸ˜—ğŸ˜—ğŸ˜—ğŸ©¶
{
Â  acknowledged: true,
Â  insertedIds: {
Â    '0': ObjectId('68d8018c9743ab97accebea4'),
Â    '1': ObjectId('68d8018c9743ab97accebea5'),
Â    '2': ObjectId('68d8018c9743ab97accebea6'),
Â    '3': ObjectId('68d8018c9743ab97accebea7'),
Â    '4': ObjectId('68d8018c9743ab97accebea8')
Â  }
}

codeio> db.coustomer.aggregate([{$group:{_id:"$name",total:{$sum:"$amount"}}}])                    //$group use to group the elements .First _id is name $is compulsory give like $name,same total $sum means add all amount that nameğŸ’¥
[ { _id: 'Goms', total: 800 }, { _id: 'Siva', total: 110 } ]
codeio> db.coustomer.aggregate([{$group:{_id:"$name",MAX:{$max:"$amount"}}}])                      //You use to Max find in the same nameğŸ’–
[ { _id: 'Goms', MAX: 400 }, { _id: 'Siva', MAX: 100 } ]
codeio> db.coustomer.aggregate([{$group:{_id:"$name",Minimum:{$min:"$amount"}}}])                  //Also find MinğŸ‘¾
[ { _id: 'Siva', Minimum: 10 }, { _id: 'Goms', Minimum: 150 } ]
codeio> db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}}])                  //$avg means that add all amount and give Average of themğŸ’š
[
Â  { _id: 'Goms', Average: 266.6666666666667 },
Â  { _id: 'Siva', Average: 55 }
]
codeio> db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2}])          //This is chain funstionsğŸ˜
[
Â  { _id: 'Goms', Average: 266.6666666666667 },
Â  { _id: 'Siva', Average: 55 }
]

codeio> db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2},{$out:"Average Purchase"}])       //this $out means before ouput show like, that are save in new collection calles Average PurchaseğŸ’¥

codeio>  show collections                         //Method to view the collection in databaseğŸ§¡
Average Purchase
course
coustomer

codeio> db.getCollectionNames()                          //This is another methodğŸ’–
[ 'Average Purchase', 'coustomer', 'course' ]

codeio> db.getCollectionInfos()                           //this means that Show collections with that InfoğŸ©µ
[
Â  {
Â    name: 'Average Purchase',
Â    type: 'collection',
Â    options: {},
Â    info: {
Â      readOnly: false,
Â      uuid: UUID('17618564-97cc-4a37-9f52-a4accdb70a7c')
Â    },
Â    idIndex: { v: 2, key: { _id: 1 }, name: '_id_' }
Â  },
Â  {
Â    name: 'coustomer',
Â    type: 'collection',
Â    options: {},
Â    info: {
Â      readOnly: false,
Â      uuid: UUID('2cea514e-9458-425d-8025-060fe0a31dfa')
Â    },
Â    idIndex: { v: 2, key: { _id: 1 }, name: '_id_' }
Â  },
Â  {
Â    name: 'course',
Â    type: 'collection',
Â    options: {},
Â    info: {
Â      readOnly: false,
Â      uuid: UUID('85ee475e-12dd-4908-bdb9-a1bcd26996cd')
Â    },
Â    idIndex: { v: 2, key: { _id: 1 }, name: '_id_' }
Â  }
]

codeio> db.getCollection("Average Purchase").find()                  //In case your collection with Space use this MethodğŸ˜®ğŸ˜®ğŸ˜®ğŸ˜®
[
Â  { _id: 'Goms', Average: 266.6666666666667 },
Â  { _id: 'Siva', Average: 55 }
]
codeio> db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2},{$count:"name"}])       //last we use $count ,so written as 2 ğŸ¤¨
[ { name: 2 } ]
codeio> db.coustomer.aggregate([{$count:"name"}])                                                          //this Firstly $count use, so written as 5 ğŸ˜Œ
[ { name: 5 } ]

ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡(Recap)
db.coustomer.aggregate([{$group:{_id:"$name",total:{$sum:"$amount"}}}])
db.coustomer.aggregate([{$group:{_id:"$name",MAX:{$max:"$amount"}}}])
db.coustomer.aggregate([{$group:{_id:"$name",Minimum:{$min:"$amount"}}}])
db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}}])
db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2}])
db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2},{$out:"Average Purchase"}])
âœï¸âœï¸âœï¸
show collections
db.getCollectionNames()
db.getCollectionInfos()
db.getCollection("Average Purchase").find()
db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2},{$count:"name"}])
db.coustomer.aggregate([{$group:{_id:"$name",Average:{$avg:"$amount"}}},{$sort:{amount:-1}},{$limit:2},{$count:"name"}])
ğŸ’•ğŸ’•ğŸ’•ğŸ’•ğŸ’•
