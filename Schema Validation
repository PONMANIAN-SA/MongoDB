Schema ValidationğŸ‘½ğŸ‘½ğŸ‘½ and Indexes
codeio> db.createCollection(                                                                                   //Code start from this to ğŸ’–
"orders", {												                                                	//name of the collection
Â 	validator: { 								                                      	//SyntaxğŸ’¥
Â 		 $jsonSchema :{ 							                                    //This also Syntax
Â   			 bsonType: "object",					                              	//This store mens bsonType store objectsğŸ§¡
Â 			required: ["item", "price", "customer_id"],                    //object store these allğŸ’š
Â 			properties:
Â 				   {
Â 					item: {                                             //item tell store string  â˜ ï¸
Â 					bsonType: "string",
Â 					description:"This has item name - required"
Â 					},
Â 					price:{                                         //Same for price store numberğŸ¤¨
Â 					bsonType: "number",
Â 					description:"Price - number -required"
Â 					},
Â 					customer_id :{                                   //Same for this ,object idğŸ˜Œ
Â 					bsonType: "objectId",
Â 					description:"reference to customer id"
Â 					}
Â 				    }
Â 			      }
Â 		}
Â 	}

)                                                                                                             //Code Endâœï¸

codeio> db.customer.find()                                      //another collection we join to orders collectionğŸ‘¾
[
Â  {
Â    _id: ObjectId('68d8018c9743ab97accebea4'),
Â    name: 'Goms',
Â    amount: 250
Â  },
Â  {
Â    _id: ObjectId('68d8018c9743ab97accebea5'),
Â    name: 'Goms',
Â    amount: 400
Â  },
Â  {
Â    _id: ObjectId('68d8018c9743ab97accebea6'),
Â    name: 'Siva',
Â    amount: 100
Â  },
Â  {
Â    _id: ObjectId('68d8018c9743ab97accebea7'),
Â    name: 'Siva',
Â    amount: 10
Â  },
Â  {
Â    _id: ObjectId('68d8018c9743ab97accebea8'),
Â    name: 'Goms',
Â    amount: 150
Â  }
]

codeio> db.orders.insertOne({item:"DM Silk",price:250,customer_id:ObjectObjectId('68d8018c9743ab97accebea4')})        //item store string ,price store number ,customer_id store object_id of another collectionğŸ«€
{
Â  acknowledged: true,
Â  insertedId: ObjectId('68d80ec306f8f6c0d6cebea4')
}
codeio>  db.orders.insertOne({item:"Perk",price:400,customer_id: ObjectId('68d8018c9743ab97accebea5')})          //Same like insertğŸ¤©
{
Â  acknowledged: true,
Â  insertedId: ObjectId('68d80f5c06f8f6c0d6cebea5')
}
codeio>
...  db.orders.insertOne({item:"Munch",price:10,customer_id: ObjectId('68d8018c9743ab97accebea7')})            //Same like insertğŸ¤©
...
{
Â  acknowledged: true,
Â  insertedId: ObjectId('68d80fed06f8f6c0d6cebea6')
}
codeio> db.orders.find()                                                                       //Now you see the orders collection what show ğŸ”¥
[
Â  {
Â    _id: ObjectId('68d80ec306f8f6c0d6cebea4'),
Â    item: 'DM Silk',
Â    price: 250,
Â    customer_id: ObjectId('68d8018c9743ab97accebea4')
Â  },
Â  {
Â    _id: ObjectId('68d80f5c06f8f6c0d6cebea5'),
Â    item: 'Perk',
Â    price: 400,
Â    customer_id: ObjectId('68d8018c9743ab97accebea5')
Â  },
Â  {
Â    _id: ObjectId('68d80fed06f8f6c0d6cebea6'),
Â    item: 'Munch',
Â    price: 10,
Â    customer_id: ObjectId('68d8018c9743ab97accebea7')
Â  }
]

codeio> db.orders.aggregate([                                                       //$lookup used to show what are connectedğŸ˜˜
...   {
...     $lookup: {								
...       from: "customer",						        	//This collection name ğŸ¥°
...       localField: "customer_id",						//In this collection what name to store it ,that collection object_idğŸ˜
...       foreignField: "_id",						    	//Current collection name of objectIdğŸ˜€
...       as: "customer"                                                        //what name to display itğŸ˜
...     }
...   }
... ])
[ 										//These are outputsğŸ˜‹
Â  {
Â    _id: ObjectId('68d80ec306f8f6c0d6cebea4'),
Â    item: 'DM Silk',
Â    price: 250,
Â    customer_id: ObjectId('68d8018c9743ab97accebea4'),
Â    customer: [
Â      {
Â        _id: ObjectId('68d8018c9743ab97accebea4'),
Â        name: 'Goms',
Â        amount: 250
Â      }
Â    ]
Â  },
Â  {
Â    _id: ObjectId('68d80f5c06f8f6c0d6cebea5'),
Â    item: 'Perk',
Â    price: 400,
Â    customer_id: ObjectId('68d8018c9743ab97accebea5'),
Â    customer: [
Â      {
Â        _id: ObjectId('68d8018c9743ab97accebea5'),
Â        name: 'Goms',
Â        amount: 400
Â      }
Â    ]
Â  },
Â  {
Â    _id: ObjectId('68d80fed06f8f6c0d6cebea6'),
Â    item: 'Munch',
Â    price: 10,
Â    customer_id: ObjectId('68d8018c9743ab97accebea7'),
Â    customer: [
Â      {
Â        _id: ObjectId('68d8018c9743ab97accebea7'),
Â        name: 'Siva',
Â        amount: 10
Â      }
Â    ]
Â  }
]
ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡(Recap)
codeio> db.createCollection(                                                                                  
"orders", {validator: {  $jsonSchema :{ bsonType: "object",	required: ["item", "price", "customer_id"],        properties:{	item: {  bsonType: "string", Â 	description:"This has item name - required"},  price:{                    Â 	bsonType: "number",	description:"Price - number -required"},	customer_id :{  bsonType: "objectId",	description:"reference to customer id"}  }  }	}   } )

db.orders.insertOne({item:"DM Silk",price:250,customer_id:ObjectObjectId('68d8018c9743ab97accebea4')})
db.orders.insertOne({item:"Perk",price:400,customer_id: ObjectId('68d8018c9743ab97accebea5')})
db.orders.insertOne({item:"Munch",price:10,customer_id: ObjectId('68d8018c9743ab97accebea7')})

Â db.orders.aggregate([ {  $lookup: { from: "customer", localField: "customer_id", foreignField: "_id", as: "customer" } ] )
ğŸ’•ğŸ’•ğŸ’•ğŸ’•ğŸ’•

Index
codeio> db.course.createIndex({name:1})                         //What field you create indexğŸ§¡
name_1
codeio> db.course.getIndexes({name:1})                         //These show indexes .  _id_ is the default indexğŸ’š
[
Â  { v: 2, key: { _id: 1 }, name: '_id_' },
Â  { v: 2, key: { name: 1 }, name: 'name_1' }
]

codeio>  db.course.createIndex({name:1,duration:-1})           //you can create this alsoğŸ’œ
name_1_duration_-1
codeio> db.course.getIndexes({name:1})                        //And see the resultğŸ¤
[
Â  { v: 2, key: { _id: 1 }, name: '_id_' },
Â  { v: 2, key: { name: 1 }, name: 'name_1' },
Â  { v: 2, key: { name: 1, duration: -1 }, name: 'name_1_duration_-1' }
]
ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡(Recap)
db.course.createIndex({name:1})
db.course.createIndex({name:1,duration:-1})
db.course.getIndexes({name:1})
ğŸ’•ğŸ’•ğŸ’•ğŸ’•
